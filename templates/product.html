<!DOCTYPE html>
<html lang="en">
<head>
<title>Product</title>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="description" content="Product">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" type="text/css" href="../static/styles/bootstrap-4.1.2/bootstrap.min.css">
<link href="../static/plugins/font-awesome-4.7.0/css/font-awesome.min.css" rel="stylesheet" type="text/css">
<link rel="stylesheet" type="text/css" href="../static/plugins/flexslider/flexslider.css">
<link rel="stylesheet" type="text/css" href="../static/styles/product.css">
<link rel="stylesheet" type="text/css" href="../static/styles/product_responsive.css">
</head>
<body>

<!-- Menu -->

<div class="menu">

	<!-- Search -->
	<!--<div class="menu_search">-->
		<!--<form action="#" id="menu_search_form" class="menu_search_form">-->
			<!--<input type="text" class="search_input" placeholder="Search Item" required="required">-->
			<!--<button class="menu_search_button"><img src="../static/images/search.png" alt=""></button>-->
		<!--</form>-->
	<!--</div>-->
	<!-- Navigation -->
	<!--<div class="menu_nav">-->
		<!--<ul>-->
			<!--<li><a href="#">Women</a></li>-->
			<!--<li><a href="#">Men</a></li>-->
			<!--<li><a href="#">Kids</a></li>-->
			<!--<li><a href="#">Home Deco</a></li>-->
			<!--<li><a href="#">Contact</a></li>-->
		<!--</ul>-->
	<!--</div>-->
	<!-- Contact Info -->
	<div class="menu_contact">
		<div class="menu_phone d-flex flex-row align-items-center justify-content-start">
			<div><div><img src="../static/images/email.svg"></div></div>
			<div>Việt: +84 363-568-384</div>
		</div>
		<div class="menu_social">
			<ul class="menu_social_list d-flex flex-row align-items-start justify-content-start">
				<li><a href="#"><i class="fa fa-facebook" aria-hidden="true"></i></a></li>
				<li><a href="#"><i class="fa fa-youtube-play" aria-hidden="true"></i></a></li>
				<li><a href="#"><i class="fa fa-google-plus" aria-hidden="true"></i></a></li>
				<li><a href="#"><i class="fa fa-instagram" aria-hidden="true"></i></a></li>
			</ul>
		</div>
	</div>
</div>

<div class="super_container">

	<!-- Header -->

	<header class="header">
		<div class="header_overlay"></div>
		<div class="header_content d-flex flex-row align-items-center justify-content-start">
			<div class="logo">
				<a href="#">
					<div class="d-flex flex-row align-items-center justify-content-start">
						<div><img src="../static/images/logo_1.png" alt=""></div>
						<div>Product</div>
					</div>
				</a>	
			</div>
			<div class="hamburger"><i class="fa fa-bars" aria-hidden="true"></i></div>
			<!--<nav class="main_nav">-->
				<!--<ul class="d-flex flex-row align-items-start justify-content-start">-->
					<!--<li><a href="#">Women</a></li>-->
					<!--<li><a href="#">Men</a></li>-->
					<!--<li><a href="#">Kids</a></li>-->
					<!--<li><a href="#">Home Deco</a></li>-->
					<!--<li><a href="#">Contact</a></li>-->
				<!--</ul>-->
			<!--</nav>-->
			<div class="header_right d-flex flex-row align-items-center justify-content-start ml-auto">
				<!-- Search -->
				<!--<div class="header_search">-->
					<!--<form action="#" id="header_search_form">-->
						<!--<input type="text" class="search_input" placeholder="Search Item" required="required">-->
						<!--<button class="header_search_button"><img src="../static/images/search.png" alt=""></button>-->
					<!--</form>-->
				<!--</div>-->
				<!-- User -->
				<!--<div class="user"><a href="#"><div><img src="../static/images/user.svg" alt="https://www.flaticon.com/authors/freepik"><div>1</div></div></a></div>-->
				<!-- Cart -->
				<!--<div class="cart"><a href="cart.html"><div><img src="../static/images/cart.svg" alt="https://www.flaticon.com/authors/freepik"></div></a></div>-->
				<!-- Phone -->
				<div class="header_phone d-flex flex-row align-items-center justify-content-start">
					<div><div><img src="../static/images/email.svg" ></div></div>
					<div>Việt: +84 363-568-384</div>
				</div>
			</div>
		</div>
	</header>

	<div class="super_container_inner">
		<div class="super_overlay"></div>

		<!-- Home -->

		<div class="home">
			<div class="home_container d-flex flex-column align-items-center justify-content-end">
				<div class="home_content text-center">
					<div class="home_title">Product Info</div>
					<div class="breadcrumbs d-flex flex-column align-items-center justify-content-center">
						<ul class="d-flex flex-row align-items-start justify-content-start text-center">
							<!--<li><a href="#">Home</a></li>-->
							<!--<li><a href="category.html">Woman</a></li>-->
							<!--<li>New Products</li>-->
						</ul>
					</div>
				</div>
			</div>
		</div>

		<!-- Product -->

		<div class="product">
			<div class="container">
				<div class="row">
					
					<!-- Product Image -->
					<div class="col-lg-6">
						<div class="product_image_slider_container">
							<div class="flex-viewport" style="overflow: hidden; position: relative; height: 601.813px;">
								<div id="slider" class="flexslider" style="height: 1600%; position: absolute; width: 100%; transition-duration: 0s; transform: translate3d(0px, 0px, 0px);">
									<ul class="slides" id="bigslide">

									</ul>
								</div>
							</div>
							<div class="carousel_container">
								<div id="carousel" class="flexslider">
									<div class="flex-viewport" style="overflow: hidden; position: relative; height: 601.813px;">
										<ul class="slides" id="smallslide" style="height: 1600%; position: absolute; width: 152px; transition-duration: 0s; transform: translate3d(0px, 0px, 0px);">

										</ul>
									</div>
								</div>
								<div class="fs_prev fs_nav">
									<div class="fs_prev fs_nav disabled"><i class="fa fa-chevron-up" aria-hidden="true"></i></div>
								</div>
								
								<div class="fs_next fs_nav"><i class="fa fa-chevron-down" aria-hidden="true"></i></div>
							</div>
						</div>
					</div>

					<!-- Product Info -->
					<div class="col-lg-6 product_col">
						<div class="product_info">
							<div class="product_name"></div>
							<div class="product_category"></div>
							<div class="product_rating_container d-flex flex-row align-items-center justify-content-start">
								<div class="rating_r rating_r_4 product_rating"><i></i><i></i><i></i><i></i><i></i></div>
								<div class="product_reviews">4.7 out of (3514)</div>
								<div class="product_reviews_link"><a href="#">Reviews</a></div>
							</div>
							<canvas id="myChart" width="400" height="400"></canvas>
							<!--<div class="product_price">$3<span>.99</span></div>-->
							<!--<div class="product_size">-->
								<!--<div class="product_size_title">Select Size</div>-->
								<!--<ul class="d-flex flex-row align-items-start justify-content-start">-->
									<!--<li>-->
										<!--<input type="radio" id="radio_1" disabled name="product_radio" class="regular_radio radio_1">-->
										<!--<label for="radio_1">XS</label>-->
									<!--</li>-->
									<!--<li>-->
										<!--<input type="radio" id="radio_2" name="product_radio" class="regular_radio radio_2" checked>-->
										<!--<label for="radio_2">S</label>-->
									<!--</li>-->
									<!--<li>-->
										<!--<input type="radio" id="radio_3" name="product_radio" class="regular_radio radio_3">-->
										<!--<label for="radio_3">M</label>-->
									<!--</li>-->
									<!--<li>-->
										<!--<input type="radio" id="radio_4" name="product_radio" class="regular_radio radio_4">-->
										<!--<label for="radio_4">L</label>-->
									<!--</li>-->
									<!--<li>-->
										<!--<input type="radio" id="radio_5" name="product_radio" class="regular_radio radio_5">-->
										<!--<label for="radio_5">XL</label>-->
									<!--</li>-->
									<!--<li>-->
										<!--<input type="radio" id="radio_6" disabled name="product_radio" class="regular_radio radio_6">-->
										<!--<label for="radio_6">XXL</label>-->
									<!--</li>-->
								<!--</ul>-->
							<!--</div>-->
							<div class="product_text">
								Visit shop: <a src="" id="prourl">click here</a>
							</div>
							<div class="product_buttons">
								<div class="text-right d-flex flex-row align-items-start justify-content-start">
									<div class="product_button product_fav text-center d-flex flex-column align-items-center justify-content-center">
										<div><div><img src="../static/images/heart_2.svg" class="svg" alt=""><div>+</div></div></div>
									</div>
									<div class="product_button product_cart text-center d-flex flex-column align-items-center justify-content-center">
										<div><div><img src="../static/images/cart.svg" class="svg" alt=""><div>+</div></div></div>
									</div>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>

		<!-- Boxes -->

		<!--<div class="boxes">-->
			<!--<div class="container">-->
				<!--<div class="row">-->
					<!--<div class="col-lg-6">-->
						<!--<div class="box d-flex flex-row align-items-center justify-content-start">-->
							<!--<div class="mt-auto"><div class="box_image"><img src="../static/images/boxes_1.png" alt=""></div></div>-->
							<!--<div class="box_content">-->
								<!--<div class="box_title">Size Guide</div>-->
								<!--<div class="box_text">Phasellus sit amet nunc eros sed nec tellus.</div>-->
							<!--</div>-->
						<!--</div>-->
					<!--</div>-->
					<!--<div class="col-lg-6 box_col">-->
						<!--<div class="box d-flex flex-row align-items-center justify-content-start">-->
							<!--<div class="mt-auto"><div class="box_image"><img src="../static/images/boxes_2.png" alt=""></div></div>-->
							<!--<div class="box_content">-->
								<!--<div class="box_title">Shipping</div>-->
								<!--<div class="box_text">Phasellus sit amet nunc eros sed nec tellus.</div>-->
							<!--</div>-->
						<!--</div>-->
					<!--</div>-->
				<!--</div>-->
			<!--</div>-->
		<!--</div>-->

		<!-- Footer -->

		<footer class="footer">
			<!--<div class="footer_content">-->
				<!--<div class="container">-->
					<!--<div class="row">-->
						<!---->
						<!--&lt;!&ndash; About &ndash;&gt;-->
						<!--<div class="col-lg-4 footer_col">-->
							<!--<div class="footer_about">-->
								<!--<div class="footer_logo">-->
									<!--<a href="#">-->
										<!--<div class="d-flex flex-row align-items-center justify-content-start">-->
											<!--<div class="footer_logo_icon"><img src="../static/images/logo_2.png" alt=""></div>-->
											<!--<div>Product</div>-->
										<!--</div>-->
									<!--</a>		-->
								<!--</div>-->
								<!--<div class="footer_about_text">-->
									<!--&lt;!&ndash;<p>Orci varius natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus. Suspendisse potenti. Fusce venenatis vel velit vel euismod.</p>&ndash;&gt;-->
								<!--</div>-->
							<!--</div>-->
						<!--</div>-->

						<!--&lt;!&ndash; Footer Links &ndash;&gt;-->
						<!--<div class="col-lg-4 footer_col">-->
							<!--<div class="footer_menu">-->
								<!--<div class="footer_title">Support</div>-->
								<!--<ul class="footer_list">-->
									<!--<li>-->
										<!--<a href="#"><div>Customer Service<div class="footer_tag_1">online now</div></div></a>-->
									<!--</li>-->
									<!--<li>-->
										<!--<a href="#"><div>Return Policy</div></a>-->
									<!--</li>-->
									<!--<li>-->
										<!--<a href="#"><div>Size Guide<div class="footer_tag_2">recommended</div></div></a>-->
									<!--</li>-->
									<!--<li>-->
										<!--<a href="#"><div>Terms and Conditions</div></a>-->
									<!--</li>-->
									<!--<li>-->
										<!--<a href="#"><div>Contact</div></a>-->
									<!--</li>-->
								<!--</ul>-->
							<!--</div>-->
						<!--</div>-->

						<!--&lt;!&ndash; Footer Contact &ndash;&gt;-->
						<!--<div class="col-lg-4 footer_col">-->
							<!--<div class="footer_contact">-->
								<!--<div class="footer_title">Stay in Touch</div>-->
								<!--<div class="newsletter">-->
									<!--<form action="#" id="newsletter_form" class="newsletter_form">-->
										<!--<input type="email" class="newsletter_input" placeholder="Subscribe to our Newsletter" required="required">-->
										<!--<button class="newsletter_button">+</button>-->
									<!--</form>-->
								<!--</div>-->
								<!--<div class="footer_social">-->
									<!--<div class="footer_title">Social</div>-->
									<!--<ul class="footer_social_list d-flex flex-row align-items-start justify-content-start">-->
										<!--<li><a href="#"><i class="fa fa-facebook" aria-hidden="true"></i></a></li>-->
										<!--<li><a href="#"><i class="fa fa-youtube-play" aria-hidden="true"></i></a></li>-->
										<!--<li><a href="#"><i class="fa fa-google-plus" aria-hidden="true"></i></a></li>-->
										<!--<li><a href="#"><i class="fa fa-instagram" aria-hidden="true"></i></a></li>-->
									<!--</ul>-->
								<!--</div>-->
							<!--</div>-->
						<!--</div>-->
					<!--</div>-->
				<!--</div>-->
			<!--</div>-->
			<div class="footer_bar">
				<div class="container">
					<div class="row">
						<div class="col">
							<div class="footer_bar_content d-flex flex-md-row flex-column align-items-center justify-content-start">
								<div class="copyright order-md-1 order-2" style="margin-left: 40%;"><!-- Link back to Colorlib can't be removed. Template is licensed under CC BY 3.0. -->
<span>Copyright &copy; <script>document.write(new Date().getFullYear());</script> All rights reserved.</span><br> &nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp; Techainer</div>
								<!--<nav class="footer_nav ml-md-auto order-md-2 order-1">-->
									<!--<ul class="d-flex flex-row align-items-center justify-content-start">-->
										<!--<li><a href="category.html">Women</a></li>-->
										<!--<li><a href="category.html">Men</a></li>-->
										<!--<li><a href="category.html">Kids</a></li>-->
										<!--<li><a href="category.html">Home Deco</a></li>-->
										<!--<li><a href="#">Contact</a></li>-->
									<!--</ul>-->
								<!--</nav>-->
							</div>
						</div>
					</div>
				</div>
			</div>
		</footer>
	</div>
		
</div>

<script src="../static/js/jquery-3.2.1.min.js"></script>
<script src="../static/styles/bootstrap-4.1.2/popper.js"></script>
<script src="../static/styles/bootstrap-4.1.2/bootstrap.min.js"></script>
<script src="../static/plugins/greensock/TweenMax.min.js"></script>
<script src="../static/plugins/greensock/TimelineMax.min.js"></script>
<script src="../static/plugins/scrollmagic/ScrollMagic.min.js"></script>
<script src="../static/plugins/greensock/animation.gsap.min.js"></script>
<script src="../static/plugins/greensock/ScrollToPlugin.min.js"></script>
<script src="../static/plugins/OwlCarousel2-2.2.1/owl.carousel.js"></script>
<script src="../static/plugins/easing/easing.js"></script>
<script src="../static/plugins/progressbar/progressbar.min.js"></script>
<script src="../static/plugins/parallax-js-master/parallax.min.js"></script>
<script src="../static/plugins/flexslider/jquery.flexslider-min.js"></script>
<script src="../static/js/product.js"></script>
<script src="../static/js/chart.min.js"></script>
<!--<script src="../static/js/productController.js"></script>-->
<script>
	jQuery.ajax({
        url: '/list-products',
        type: "POST",
        processData: false,
        contentType: "application/json",
        success: function (result) {
            console.log(result)
            productList = result
            console.log(productList)
            var url = window.location.pathname;
            var product_id = url.split("/")[2]
            var id_index = 10;
            console.log(product_id)
            for (product in productList) {
                if (productList[product]["product_id"] == product_id.toString()) {
                    console.log("found", productList[product]["product_id"])
                    id_index = productList.indexOf(productList[product])
                }
            }
            console.log(id_index)
            $('.product_name').text(productList[id_index]['name'])
            for (item in productList[id_index]["category"]) {
                $('.product_category').append(productList[id_index]["category"][item] + ' | ')
            }
            $('#prourl').attr("href", productList[id_index]['url']);
            for (img in productList[id_index]['images']) {
                if(img==0){
                    var big_item = '<li class="flex-active-slide" display: block"><img src="' + productList[id_index]['images'][img] + '" /></li>'
                    var small_item = '<li class="flex-active-slide" display: block"><img src="' + productList[id_index]['images'][img] + '" /></li>'
				} else{
                    var big_item = '<li style="display: block"><img src="' + productList[id_index]['images'][img] + '" /></li>'
					                var small_item = '<li style="display: block"><div><img src="' + productList[id_index]['images'][img] + '"/></div></li>'
				}


                $('#bigslide').append(big_item)
                $('#smallslide').append(small_item)
            }
            var timeList = []
            var priceList = []
            var currencyList = []
            for (price in productList[id_index]['price']) {
                timeList.push(productList[id_index]['price'][price]['time']['$date'])
                priceList.push(productList[id_index]['price'][price]['value'])
                currencyList.push(productList[id_index]['price'][price]['currency'])
            }
            console.log(timeList, priceList, currencyList)
            var normalizedPrice = [];
            for (i in priceList) {
                normalizedPrice.push(parseFloat(priceList[i]))
            }
            ;console.log(normalizedPrice)
            var normalizedTime = [];
            for (i in timeList) {
                normalizedTime.push(timeList[i].split("+")[0])
            }
            ;console.log(normalizedTime)
            console.log(normalizedPrice, normalizedTime)
            // chart
            var ctx = document.getElementById('myChart').getContext('2d');
            var myChart = new Chart(ctx, {
                type: 'line',
                data: {
                    labels: normalizedTime,
                    datasets: [{
                        label: '# Price (' + currencyList[0] + ')',
                        data: normalizedPrice,
                        backgroundColor: [
                            'rgba(255, 99, 132, 0.2)',
                            'rgba(54, 162, 235, 0.2)',
                            'rgba(255, 206, 86, 0.2)',
                            'rgba(75, 192, 192, 0.2)',
                            'rgba(153, 102, 255, 0.2)',
                            'rgba(255, 159, 64, 0.2)'
                        ],
                        borderColor: [
                            'rgba(255, 99, 132, 1)',
                            'rgba(54, 162, 235, 1)',
                            'rgba(255, 206, 86, 1)',
                            'rgba(75, 192, 192, 1)',
                            'rgba(153, 102, 255, 1)',
                            'rgba(255, 159, 64, 1)'
                        ],
                        borderWidth: 1
                    }]
                },
                options: {
                    scales: {
                        yAxes: [{
                            ticks: {
                                beginAtZero: true
                            }
                        }]
                    }
                }
            });
        }
    })
</script>



</body>
</html>